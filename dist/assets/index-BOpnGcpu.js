(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function f(e){return typeof window<"u"&&window.location.hostname==="itsecretary-map.github.io"?`/chromecast_stream/images/slideshow/${e}`:`./images/slideshow/${e}`}const F=[{ar:"ÿ•ŸêŸÜŸéŸë ÿßŸÑÿµŸéŸëŸÑŸéÿßÿ©Ÿé ÿ™ŸéŸÜŸíŸáŸéŸâŸ∞ ÿπŸéŸÜŸê ÿßŸÑŸíŸÅŸéÿ≠Ÿíÿ¥Ÿéÿßÿ°Ÿê ŸàŸéÿßŸÑŸíŸÖŸèŸÜŸÉŸéÿ±Ÿê",en:"Indeed, prayer prohibits immorality and wrongdoing. (Quran 29:45)"},{ar:"ŸàŸéŸÖŸéÿß ÿÆŸéŸÑŸéŸÇŸíÿ™Ÿè ÿßŸÑŸíÿ¨ŸêŸÜŸéŸë ŸàŸéÿßŸÑŸíÿ•ŸêŸÜÿ≥Ÿé ÿ•ŸêŸÑŸéŸëÿß ŸÑŸêŸäŸéÿπŸíÿ®ŸèÿØŸèŸàŸÜŸê",en:"I did not create the jinn and mankind except to worship Me. (Quran 51:56)"},{ar:"ŸÅŸéÿßÿ∞ŸíŸÉŸèÿ±ŸèŸàŸÜŸêŸä ÿ£Ÿéÿ∞ŸíŸÉŸèÿ±ŸíŸÉŸèŸÖŸí",en:"So remember Me; I will remember you. (Quran 2:152)"},{ar:"ŸàŸéŸÖŸéŸÜ ŸäŸéÿ™ŸéŸàŸéŸÉŸéŸëŸÑŸí ÿπŸéŸÑŸéŸâ ÿßŸÑŸÑŸéŸëŸáŸê ŸÅŸéŸáŸèŸàŸé ÿ≠Ÿéÿ≥Ÿíÿ®ŸèŸáŸè",en:"And whoever puts his trust in Allah, then He will suffice him. (Quran 65:3)"},{ar:"ÿ•ŸêŸÜŸéŸë ÿßŸÑŸÑŸéŸëŸáŸé ŸÖŸéÿπŸé ÿßŸÑÿµŸéŸëÿßÿ®Ÿêÿ±ŸêŸäŸÜŸé",en:"Indeed, Allah is with the patient. (Quran 2:153)"},{ar:"ŸàŸéŸÑŸéÿß ÿ™ŸéŸäŸíÿ£Ÿéÿ≥ŸèŸàÿß ŸÖŸêŸÜ ÿ±ŸéŸëŸàŸíÿ≠Ÿê ÿßŸÑŸÑŸéŸëŸáŸê",en:"And never give up hope of Allah's mercy. (Quran 12:87)"},{ar:"ÿ•ŸêŸÜŸéŸë ÿßŸÑŸÑŸéŸëŸáŸé ŸÑŸéÿß ŸäŸèÿ∂ŸêŸäÿπŸè ÿ£Ÿéÿ¨Ÿíÿ±Ÿé ÿßŸÑŸíŸÖŸèÿ≠Ÿíÿ≥ŸêŸÜŸêŸäŸÜŸé",en:"Indeed, Allah does not allow the reward of the doers of good to be lost. (Quran 9:120)"},{ar:"ŸàŸéŸÖŸéŸÜ ŸäŸéÿ™ŸéŸëŸÇŸê ÿßŸÑŸÑŸéŸëŸáŸé ŸäŸéÿ¨ŸíÿπŸéŸÑ ŸÑŸéŸëŸáŸè ŸÖŸéÿÆŸíÿ±Ÿéÿ¨Ÿãÿß",en:"And whoever fears Allah, He will make for him a way out. (Quran 65:2)"},{ar:"ÿ•ŸêŸÜŸéŸëŸÖŸéÿß ÿßŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸèŸàŸÜŸé ÿ•ŸêÿÆŸíŸàŸéÿ©Ÿå",en:"The believers are but brothers. (Quran 49:10)"},{ar:"ŸÑŸéÿß ŸäŸèÿ§ŸíŸÖŸêŸÜŸè ÿ£Ÿéÿ≠ŸéÿØŸèŸÉŸèŸÖŸí ÿ≠Ÿéÿ™ŸéŸëŸâ ŸäŸèÿ≠Ÿêÿ®ŸéŸë ŸÑÿ£ŸéÿÆŸêŸäŸáŸê ŸÖŸéÿß ŸäŸèÿ≠Ÿêÿ®ŸèŸë ŸÑŸêŸÜŸéŸÅŸíÿ≥ŸêŸáŸê",en:"None of you truly believes until he loves for his brother what he loves for himself. (Bukhari & Muslim)"},{ar:"ÿÆŸéŸäŸíÿ±ŸèŸÉŸèŸÖŸí ÿ£Ÿéÿ≠Ÿíÿ≥ŸéŸÜŸèŸÉŸèŸÖŸí ÿ£ŸéÿÆŸíŸÑŸéÿßŸÇŸãÿß",en:"The best among you are those who have the best manners and character. (Bukhari)"},{ar:"ŸÖŸéŸÜŸí ŸÑŸéÿß ŸäŸéÿ¥ŸíŸÉŸèÿ±Ÿê ÿßŸÑŸÜŸéŸëÿßÿ≥Ÿé ŸÑŸéÿß ŸäŸéÿ¥ŸíŸÉŸèÿ±Ÿê ÿßŸÑŸÑŸéŸëŸáŸé",en:"Whoever does not thank people has not thanked Allah. (Tirmidhi)"},{ar:"ŸÑŸéŸäŸíÿ≥Ÿé ÿßŸÑÿ¥ŸéŸëÿØŸêŸäÿØŸè ÿ®ŸêÿßŸÑÿµŸèŸëÿ±ŸéÿπŸéÿ©Ÿêÿå ÿ•ŸêŸÜŸéŸëŸÖŸéÿß ÿßŸÑÿ¥ŸéŸëÿØŸêŸäÿØŸè ÿßŸÑŸéŸëÿ∞ŸêŸä ŸäŸéŸÖŸíŸÑŸêŸÉŸè ŸÜŸéŸÅŸíÿ≥ŸéŸáŸè ÿπŸêŸÜÿØŸé ÿßŸÑŸíÿ∫Ÿéÿ∂Ÿéÿ®Ÿê",en:"The strong man is not the one who can overpower others. The strong man is the one who controls himself when angry. (Bukhari)"},{ar:"ŸäŸéÿ≥ŸêŸëÿ±ŸèŸàÿß ŸàŸéŸÑŸéÿß ÿ™ŸèÿπŸéÿ≥ŸêŸëÿ±ŸèŸàÿß",en:"Make things easy and do not make them difficult. (Bukhari)"},{ar:"ŸàŸéŸÑŸéÿß ÿ™ŸéŸÜŸéÿßÿ®Ÿéÿ≤ŸèŸàÿß ÿ®ŸêÿßŸÑŸíÿ£ŸéŸÑŸíŸÇŸéÿßÿ®Ÿê",en:"And do not insult one another with nicknames. (Quran 49:11)"},{ar:"ÿ•ŸêŸÜŸéŸë ÿßŸÑŸÑŸéŸëŸáŸé ŸäŸèÿ≠Ÿêÿ®ŸèŸë ÿßŸÑŸíŸÖŸèÿ≠Ÿíÿ≥ŸêŸÜŸêŸäŸÜŸé",en:"Indeed, Allah loves the doers of good. (Quran 2:195)"},{ar:"ÿßŸÇŸíÿ±Ÿéÿ£Ÿí ÿ®Ÿêÿßÿ≥ŸíŸÖŸê ÿ±Ÿéÿ®ŸêŸëŸÉŸé ÿßŸÑŸéŸëÿ∞ŸêŸä ÿÆŸéŸÑŸéŸÇŸé",en:"Read in the name of your Lord who created. (Quran 96:1)"},{ar:"ÿ•ŸêŸÜŸéŸë ŸáŸéŸ∞ÿ∞Ÿéÿß ÿßŸÑŸíŸÇŸèÿ±Ÿíÿ¢ŸÜŸé ŸäŸéŸáŸíÿØŸêŸä ŸÑŸêŸÑŸéŸëÿ™ŸêŸä ŸáŸêŸäŸé ÿ£ŸéŸÇŸíŸàŸéŸÖŸè",en:"Indeed, this Quran guides to that which is most upright. (Quran 17:9)"},{ar:"ŸàŸéŸÑŸéŸÇŸéÿØŸí ŸäŸéÿ≥ŸéŸëÿ±ŸíŸÜŸéÿß ÿßŸÑŸíŸÇŸèÿ±Ÿíÿ¢ŸÜŸé ŸÑŸêŸÑÿ∞ŸêŸëŸÉŸíÿ±Ÿê",en:"And We have certainly made the Quran easy for remembrance. (Quran 54:17)"},{ar:"ÿ•ŸêŸÜŸéŸë ÿßŸÑŸéŸëÿ∞ŸêŸäŸÜŸé ŸäŸéÿ™ŸíŸÑŸèŸàŸÜŸé ŸÉŸêÿ™Ÿéÿßÿ®Ÿé ÿßŸÑŸÑŸéŸëŸáŸê ŸàŸéÿ£ŸéŸÇŸéÿßŸÖŸèŸàÿß ÿßŸÑÿµŸéŸëŸÑŸéÿßÿ©Ÿé",en:"Indeed, those who recite the Book of Allah and establish prayer. (Quran 35:29)"},{ar:"ÿ∑ŸéŸÑŸéÿ®Ÿè ÿßŸÑŸíÿπŸêŸÑŸíŸÖŸê ŸÅŸéÿ±ŸêŸäÿ∂Ÿéÿ©Ÿå ÿπŸéŸÑŸéŸâ ŸÉŸèŸÑŸêŸë ŸÖŸèÿ≥ŸíŸÑŸêŸÖŸç",en:"Seeking knowledge is obligatory upon every Muslim. (Ibn Majah)"},{ar:"ŸÖŸéŸÜŸí ÿ≥ŸéŸÑŸéŸÉŸé ÿ∑Ÿéÿ±ŸêŸäŸÇŸãÿß ŸäŸéŸÑŸíÿ™ŸéŸÖŸêÿ≥Ÿè ŸÅŸêŸäŸáŸê ÿπŸêŸÑŸíŸÖŸãÿß",en:"Whoever takes a path in search of knowledge. (Abu Dawud)"},{ar:"ÿ•ŸêŸÜŸéŸëŸÖŸéÿß ŸäŸéÿÆŸíÿ¥ŸéŸâ ÿßŸÑŸÑŸéŸëŸáŸé ŸÖŸêŸÜŸí ÿπŸêÿ®ŸéÿßÿØŸêŸáŸê ÿßŸÑŸíÿπŸèŸÑŸéŸÖŸéÿßÿ°Ÿè",en:"Only those of His servants who have knowledge fear Allah. (Quran 35:28)"},{ar:"ŸàŸéŸÇŸèŸÑ ÿ±ŸéŸëÿ®ŸêŸë ÿ≤ŸêÿØŸíŸÜŸêŸä ÿπŸêŸÑŸíŸÖŸãÿß",en:"And say: My Lord, increase me in knowledge. (Quran 20:114)"},{ar:"ŸÖŸéŸÜŸí ÿ£Ÿéÿ≠ŸíŸäŸéÿß ÿ≥ŸèŸÜŸéŸëÿ™ŸêŸä ŸÅŸéŸÇŸéÿØŸí ÿ£Ÿéÿ≠ŸíŸäŸéÿßŸÜŸêŸä",en:"Whoever revives my Sunnah has indeed revived me. (Tirmidhi)"},{ar:"ŸÖŸéŸÜŸí ÿ±Ÿéÿ∫Ÿêÿ®Ÿé ÿπŸéŸÜŸí ÿ≥ŸèŸÜŸéŸëÿ™ŸêŸä ŸÅŸéŸÑŸéŸäŸíÿ≥Ÿé ŸÖŸêŸÜŸêŸëŸä",en:"Whoever turns away from my Sunnah is not from me. (Bukhari & Muslim)"},{ar:"ŸÖŸéŸÜŸí ÿ£Ÿéÿ∑ŸéÿßÿπŸéŸÜŸêŸä ŸÅŸéŸÇŸéÿØŸí ÿ£Ÿéÿ∑ŸéÿßÿπŸé ÿßŸÑŸÑŸéŸëŸáŸé",en:"Whoever obeys me has obeyed Allah. (Bukhari & Muslim)"},{ar:"ŸÖŸéŸÜŸí ÿ±Ÿéÿ£ŸéŸâ ŸÖŸêŸÜŸíŸÉŸèŸÖŸí ŸÖŸèŸÜŸíŸÉŸéÿ±Ÿãÿß ŸÅŸéŸÑŸíŸäŸèÿ∫ŸéŸäŸêŸëÿ±ŸíŸáŸè",en:"Whoever among you sees an evil, let him change it. (Muslim)"},{ar:"ŸÑŸéÿß ŸäŸèÿ§ŸíŸÖŸêŸÜŸè ÿ£Ÿéÿ≠ŸéÿØŸèŸÉŸèŸÖŸí ÿ≠Ÿéÿ™ŸéŸëŸâ ÿ£ŸéŸÉŸèŸàŸÜŸé ÿ£Ÿéÿ≠Ÿéÿ®ŸéŸë ÿ•ŸêŸÑŸéŸäŸíŸáŸê",en:"None of you truly believes until I am dearer to him than his father. (Bukhari)"},{ar:"ÿ•ŸêŸÜŸéŸë ÿßŸÑŸÑŸéŸëŸáŸé ŸàŸéŸÖŸéŸÑŸéÿßÿ¶ŸêŸÉŸéÿ™ŸéŸáŸè ŸäŸèÿµŸéŸÑŸèŸëŸàŸÜŸé ÿπŸéŸÑŸéŸâ ÿßŸÑŸÜŸéŸëÿ®ŸêŸäŸêŸë",en:"Indeed, Allah and His angels send blessings upon the Prophet. (Quran 33:56)"},{ar:"ŸÇŸèŸÑŸí ÿ•ŸêŸÜ ŸÉŸèŸÜÿ™ŸèŸÖŸí ÿ™Ÿèÿ≠Ÿêÿ®ŸèŸëŸàŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸé ŸÅŸéÿßÿ™ŸéŸëÿ®ŸêÿπŸèŸàŸÜŸêŸä",en:"Say: If you love Allah, then follow me. (Quran 3:31)"},{ar:"ŸàŸéŸÖŸéŸÜŸí ÿ£Ÿéÿ∏ŸíŸÑŸéŸÖŸè ŸÖŸêŸÖŸéŸëŸÜ ŸÖŸéŸëŸÜŸéÿπŸé ŸÖŸéÿ≥Ÿéÿßÿ¨ŸêÿØŸé ÿßŸÑŸÑŸéŸëŸáŸê ÿ£ŸéŸÜ ŸäŸèÿ∞ŸíŸÉŸéÿ±Ÿé ŸÅŸêŸäŸáŸéÿß ÿßÿ≥ŸíŸÖŸèŸáŸè",en:"And who is more unjust than one who prevents the mention of Allah's name in His mosques? (Quran 2:114)"},{ar:"ŸÖŸéŸÜŸí ÿ®ŸéŸÜŸéŸâ ŸÖŸéÿ≥Ÿíÿ¨ŸêÿØŸãÿß ŸÑŸêŸÑŸéŸëŸáŸê ÿ®ŸéŸÜŸéŸâ ÿßŸÑŸÑŸéŸëŸáŸè ŸÑŸéŸáŸè ÿ®ŸéŸäŸíÿ™Ÿãÿß ŸÅŸêŸä ÿßŸÑŸíÿ¨ŸéŸÜŸéŸëÿ©Ÿê",en:"Whoever builds a mosque for Allah, Allah will build for him a house in Paradise. (Bukhari & Muslim)"},{ar:"ÿ•ŸêŸÜŸéŸë ÿßŸÑŸíŸÖŸéÿ≥Ÿéÿßÿ¨ŸêÿØŸé ŸÑŸêŸÑŸéŸëŸáŸê ŸÅŸéŸÑŸéÿß ÿ™ŸéÿØŸíÿπŸèŸàÿß ŸÖŸéÿπŸé ÿßŸÑŸÑŸéŸëŸáŸê ÿ£Ÿéÿ≠ŸéÿØŸãÿß",en:"Indeed, the mosques are for Allah, so do not invoke anyone with Allah. (Quran 72:18)"},{ar:"ŸÅŸêŸä ÿ®ŸèŸäŸèŸàÿ™Ÿç ÿ£Ÿéÿ∞ŸêŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸè ÿ£ŸéŸÜ ÿ™Ÿèÿ±ŸíŸÅŸéÿπŸé ŸàŸéŸäŸèÿ∞ŸíŸÉŸéÿ±Ÿé ŸÅŸêŸäŸáŸéÿß ÿßÿ≥ŸíŸÖŸèŸáŸè",en:"In houses which Allah has ordered to be raised and in which His name is mentioned. (Quran 24:36)"},{ar:"ŸäŸéŸàŸíŸÖŸé ÿ™Ÿéÿ¥ŸíŸáŸéÿØŸè ÿπŸéŸÑŸéŸäŸíŸáŸêŸÖŸí ÿ£ŸéŸÑŸíÿ≥ŸêŸÜŸéÿ™ŸèŸáŸèŸÖŸí ŸàŸéÿ£ŸéŸäŸíÿØŸêŸäŸáŸêŸÖŸí ŸàŸéÿ£Ÿéÿ±Ÿíÿ¨ŸèŸÑŸèŸáŸèŸÖ ÿ®ŸêŸÖŸéÿß ŸÉŸéÿßŸÜŸèŸàÿß ŸäŸéÿπŸíŸÖŸéŸÑŸèŸàŸÜŸé",en:"On the Day when their tongues, hands and feet will bear witness against them as to what they used to do. (Quran 24:24)"},{ar:"ŸÅŸéŸÖŸéŸÜ ŸäŸéÿπŸíŸÖŸéŸÑŸí ŸÖŸêÿ´ŸíŸÇŸéÿßŸÑŸé ÿ∞Ÿéÿ±ŸéŸëÿ©Ÿç ÿÆŸéŸäŸíÿ±Ÿãÿß ŸäŸéÿ±ŸéŸáŸè * ŸàŸéŸÖŸéŸÜ ŸäŸéÿπŸíŸÖŸéŸÑŸí ŸÖŸêÿ´ŸíŸÇŸéÿßŸÑŸé ÿ∞Ÿéÿ±ŸéŸëÿ©Ÿç ÿ¥Ÿéÿ±ŸãŸëÿß ŸäŸéÿ±ŸéŸáŸè",en:"So whoever does an atom's weight of good will see it. And whoever does an atom's weight of evil will see it. (Quran 99:7-8)"},{ar:"ŸäŸéŸàŸíŸÖŸé ŸÑŸéÿß ÿ™ŸéŸÖŸíŸÑŸêŸÉŸè ŸÜŸéŸÅŸíÿ≥Ÿå ŸÑŸêŸëŸÜŸéŸÅŸíÿ≥Ÿç ÿ¥ŸéŸäŸíÿ¶Ÿãÿß",en:"On the Day when no soul will have power to do anything for another soul. (Quran 82:19)"},{ar:"ŸàŸéŸÉŸèŸÑŸèŸë ÿ•ŸêŸÜÿ≥ŸéÿßŸÜŸç ÿ£ŸéŸÑŸíÿ≤ŸéŸÖŸíŸÜŸéÿßŸáŸè ÿ∑Ÿéÿßÿ¶Ÿêÿ±ŸéŸáŸè ŸÅŸêŸä ÿπŸèŸÜŸèŸÇŸêŸáŸê",en:"And every person's fate We have fastened around his neck. (Quran 17:13)"}];function z(){const e=typeof window<"u"&&(window.location.hostname==="itsecretary-map.github.io"||window.location.pathname.includes("/chromecast_stream/")||window.location.href.includes("github.io"));return console.log("üîç GitHub Pages detection:",{hostname:window.location.hostname,pathname:window.location.pathname,href:window.location.href,isGitHubPages:e}),e?{mapWebsite:"/chromecast_stream/images/qr-codes/mapitt.png",communityWhatsApp:"/chromecast_stream/images/qr-codes/map-whatsapp.png"}:{mapWebsite:"./images/qr-codes/mapitt.png",communityWhatsApp:"./images/qr-codes/map-whatsapp.png"}}const Q={mapWebsite:"Website",communityWhatsApp:"WhatsApp"},P={owner:"itsecretary-map",repo:"chromecast_stream",folder:"images/slideshow",enabled:!0};function J(){const e=window.innerWidth,o=window.innerHeight;console.log(`üîí Detected screen dimensions: ${e}x${o}`),document.documentElement.style.transform="none",document.body.style.transform="none"}window.addEventListener("load",()=>{console.log("üì± Page loaded, locking viewport dimensions..."),J()});function R(){const e=window.location.hostname==="itsecretary-map.github.io"||window.location.pathname.includes("/chromecast_stream/"),o=["./CCA_5344-HDR.jpg","CCA_5344-HDR.jpg","/CCA_5344-HDR.jpg","../CCA_5344-HDR.jpg"];e&&(o.unshift("/chromecast_stream/CCA_5344-HDR.jpg"),o.unshift("./chromecast_stream/CCA_5344-HDR.jpg")),console.log("üñºÔ∏è  Attempting to load background image from multiple paths:",o),console.log("üìç Current page URL:",window.location.href),console.log("üìÅ Current page pathname:",window.location.pathname);let t=0;const n=new Image;n.onload=()=>{console.log("‚úÖ Background image loaded successfully:",n.src),console.log("üìè Image dimensions:",n.naturalWidth,"x",n.naturalHeight),console.log("üíæ Image size:",(n.naturalWidth*n.naturalHeight*4/1024/1024).toFixed(2),"MB (estimated)"),document.body.style.setProperty("background-image",`url('${n.src}')`),document.body.style.setProperty("background-size","cover"),document.body.style.setProperty("background-position","center center"),document.body.style.setProperty("background-attachment","fixed"),document.body.style.setProperty("background-repeat","no-repeat"),console.log("üé® Background image applied to body element")},n.onerror=()=>{if(console.error(`‚ùå Failed to load background image from path ${t+1}/${o.length}:`,o[t]),t++,t<o.length){const a=o[t];console.log(`üîÑ Trying next path (${t+1}/${o.length}):`,a),n.src=a}else console.error("‚ùå All paths failed. Background image could not be loaded."),console.log("üé® Keeping CSS gradient background as fallback")},console.log(`üöÄ Starting with path: ${o[0]}`),n.src=o[0],fetch(o[0]).then(a=>{a.ok?console.log("‚úÖ Fetch API confirms image is accessible:",o[0]):console.error("‚ùå Fetch API failed:",a.status,a.statusText)}).catch(a=>{console.error("‚ùå Fetch API error:",a)})}let i=[];function K(e){console.log("üîÑ Preloading images to prevent layout shifts..."),e.forEach((o,t)=>{const n=new Image;n.onload=()=>{console.log(`‚úÖ Preloaded image ${t+1}/${e.length}:`,o)},n.onerror=()=>{console.warn(`‚ö†Ô∏è Failed to preload image ${t+1}:`,o)},n.src=o})}const y="github_images_cache",L=1440*60*1e3;async function Y(){try{const e=localStorage.getItem(y);if(e){const t=JSON.parse(e),n=Date.now();if(n-t.timestamp<L)return console.log("üì¶ Using cached GitHub images (age:",Math.round((n-t.timestamp)/1e3/60),"minutes)"),t.images;console.log("‚è∞ Cache expired, fetching fresh images from GitHub")}const o=await G();if(o.length>0){const t={images:o,timestamp:Date.now()};localStorage.setItem(y,JSON.stringify(t)),console.log("üíæ Cached fresh GitHub images")}return o}catch(e){console.error("‚ùå Error in cache management:",e);const o=localStorage.getItem(y);if(o){const t=JSON.parse(o);return console.log("üîÑ Using expired cache as fallback"),t.images}return[]}}async function G(){try{const e=`https://api.github.com/repos/${P.owner}/${P.repo}/contents/${P.folder}`;console.log("Fetching images from GitHub:",e);const o=await fetch(e);if(!o.ok){if(o.status===404)return console.warn("‚ö†Ô∏è GitHub folder not found:",e),console.log("This is expected if the folder is empty or doesn't exist"),[];throw new Error(`GitHub API error: ${o.status} ${o.statusText}`)}const t=await o.json();console.log("GitHub API response:",t),console.log("üìÅ All files returned from GitHub:",t.map(l=>l.name));const n=t.filter(l=>{const c=l.name.toLowerCase().split(".").pop(),s=["jpg","jpeg","png","gif","webp"].includes(c),g=!l.name.includes("CCA_5344-HDR");return console.log(`üîç File: ${l.name}, isImage: ${s}, isNotBackground: ${g}`),s&&g});console.log(`‚úÖ Found ${n.length} valid slideshow image files:`,n);const a=n.map(l=>({id:l.sha,name:l.name,url:l.download_url}));return console.log("GitHub images processed:",a),a}catch(e){return console.error("Error fetching GitHub images:",e),console.log("Falling back to default slideshow images"),[]}}const $="local_images_cache",O="1.0";function B(){localStorage.removeItem(y),localStorage.removeItem($),console.log("üóëÔ∏è Image cache cleared")}function Z(){const e=localStorage.getItem(y);if(e){const o=JSON.parse(e),t=Math.round((Date.now()-o.timestamp)/1e3/60),n=Math.round((L-(Date.now()-o.timestamp))/1e3/60);return console.log("üìä Cache Info:",{age:t+" minutes",expiresIn:n+" minutes",imageCount:o.images.length}),{age:t,expiresIn:n,imageCount:o.images.length}}else return console.log("üìä No cache found"),null}function _(){try{const e=localStorage.getItem($);if(e){const o=JSON.parse(e);return o.version===O?(console.log("‚úÖ Local image cache is valid"),o.images):(console.log("üîÑ Local image cache version mismatch, clearing..."),B(),null)}return null}catch(e){return console.error("Error reading local image cache:",e),null}}function E(e){try{const o={version:O,timestamp:Date.now(),images:e};localStorage.setItem($,JSON.stringify(o)),console.log("üíæ Local image cache updated with",e.length,"images")}catch(o){console.error("Error setting local image cache:",o)}}function X(){const e=_();if(e&&e.length>0)return console.log("üì± Using cached local images:",e.length),e;const o=H();return console.log("üì± Using fallback images:",o.length),E(o),K(o),o}let b=null,A=null;async function v(){try{"wakeLock"in navigator?(b=await navigator.wakeLock.request("screen"),console.log("‚úÖ Wake lock acquired - screen will stay awake"),b.addEventListener("release",()=>{console.log("‚ö†Ô∏è Wake lock was released"),setTimeout(v,1e3)})):(console.log("‚ö†Ô∏è Wake lock API not supported, using alternative methods"),q())}catch(e){console.log("‚ö†Ô∏è Wake lock failed:",e),q()}}function q(){if(console.log("üîÑ Starting keep-alive fallback methods"),A=setInterval(()=>{const e=new Event("mousemove");document.dispatchEvent(e);const o=document.querySelector(".header");o&&(o.style.transform="translateZ(0)")},3e4),document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen().catch(()=>{console.log("Fullscreen request denied")}),typeof AudioContext<"u"){const e=new AudioContext,o=e.createOscillator(),t=e.createGain();t.gain.value=0,o.connect(t),t.connect(e.destination),o.start(),o.stop(e.currentTime+.001)}}function U(){b&&(b.release(),b=null,console.log("üîì Wake lock released")),A&&(clearInterval(A),A=null,console.log("üîì Keep-alive interval cleared"))}function ee(){if(window.location.hostname==="localhost"||window.location.hostname.includes("github.io")||window.innerWidth>=1920||window.innerHeight>=1080){console.log("üì∫ Chromecast Receiver Mode Detected"),console.log("  - Screen size:",window.innerWidth,"x",window.innerHeight),console.log("  - Hostname:",window.location.hostname),oe();const o=document.querySelector(".chromecast-controls");o&&(o.style.display="none",console.log("üéØ Hidden Chromecast sender controls for receiver mode"))}else console.log("üíª Sender Mode Detected (showing cast controls)")}function oe(){const e=document.body;e.style.fontSize=window.innerWidth>=3840?"32px":"24px";const o=document.querySelector(".slideshow img");o&&(o.style.borderRadius="16px",o.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.6)"),console.log("üé® TV display optimizations applied (CSS-preserving)")}function j(){const e=window.innerWidth/window.innerHeight;window.innerWidth>=1920&&(console.log(`TV detected: ${window.innerWidth}x${window.innerHeight}, aspect ratio: ${e.toFixed(2)}`),e<=16/9?(document.documentElement.style.setProperty("--header-height","10vh"),document.documentElement.style.setProperty("--ayats-height","10vh"),document.documentElement.style.setProperty("--content-height","70vh"),document.documentElement.style.setProperty("--gap","2vh"),document.documentElement.style.setProperty("--padding","2vh"),console.log("Applied 16:9 TV optimization (percentage-based layout)")):(document.documentElement.style.setProperty("--header-height","8vh"),document.documentElement.style.setProperty("--ayats-height","8vh"),document.documentElement.style.setProperty("--content-height","74vh"),document.documentElement.style.setProperty("--gap","2vh"),document.documentElement.style.setProperty("--padding","2vh"),console.log("Applied ultra-wide TV optimization (percentage-based layout)")))}window.addEventListener("load",j);window.addEventListener("resize",j);document.addEventListener("visibilitychange",()=>{document.hidden?(console.log("‚ö†Ô∏è Page became hidden, trying to maintain wake lock"),setTimeout(()=>{document.hidden||v()},1e3)):(console.log("‚úÖ Page became visible, ensuring wake lock is active"),v())});window.addEventListener("focus",()=>{console.log("‚úÖ Window focused, ensuring wake lock is active"),v()});window.addEventListener("blur",()=>{console.log("‚ö†Ô∏è Window blurred, but maintaining wake lock")});window.addEventListener("beforeunload",()=>{console.log("üîì Page unloading, releasing wake lock"),U()});window.addEventListener("unload",()=>{console.log("üîì Page unloaded, releasing wake lock"),U()});let d=0;const p=document.getElementById("slideshow-img");let D=0;function w(e){if(i.length===0){console.log("No images available to show");return}console.log(`Showing image ${e+1} of ${i.length}:`,i[e]),p.style.opacity=0;let o=document.getElementById("slideshow-error");o&&o.remove(),setTimeout(()=>{const t=i[e];console.log("Setting image src to:",t),p.src=t,p.onload=()=>{console.log("Image loaded successfully:",t),p.style.opacity=1},p.onerror=()=>{if(console.error("Image failed to load:",t),p.style.opacity=.2,!document.getElementById("slideshow-error")){const n=document.createElement("div");n.id="slideshow-error",n.style.color="red",n.style.textAlign="center",n.style.marginTop="10px",n.textContent="Image failed to load. Check the image URL or try another image.",p.parentNode.appendChild(n)}}},300)}function te(){i.length!==0&&(d===i.length-1&&(D++,console.log(`üîÑ Completed rotation ${D} through ${i.length} images`),ne()),d=(d+1)%i.length,w(d))}async function ne(){console.log("üîÑ Refreshing slideshow images after completing rotation...");try{B();const e=await G();if(e.length>0){const o=i.length;i=e.map(t=>t.url),console.log(`‚úÖ Refreshed slideshow: ${o} ‚Üí ${i.length} images`),d=0,w(d),i.length>o&&console.log(`üéâ Found ${i.length-o} new images!`)}else console.log("‚ö†Ô∏è No fresh images found, keeping current set")}catch(e){console.error("‚ùå Error refreshing images after rotation:",e),console.log("üîÑ Continuing with current image set")}}async function ae(){await v();try{console.log("Initializing slideshow with smart local caching...");let e=X();if(e&&e.length>0){i=e,console.log(`‚úÖ Using ${i.length} cached local images`),d=0,w(d);return}console.log("üîÑ No local cache, trying GitHub API...");try{const o=await Y();if(o.length>0){i=o.map(t=>t.url),console.log(`‚úÖ Got ${i.length} images from GitHub`),E(i),d=0,w(d);return}}catch{console.log("‚ö†Ô∏è GitHub API failed, using fallback images")}i=H(),i.length>0&&(console.log(`üì± Using ${i.length} fallback images`),E(i),d=0,w(d))}catch(e){console.error("Error initializing slideshow:",e),i=H(),i.length>0&&(d=0,w(d))}}setInterval(te,8e3);function H(){return[f("coat-drive.jpg"),f("imams-schedule.png"),f("membership drive.jpg"),f("Untitled design - Kehkeshan Shah-COLLAGE.jpg"),f("Untitled design-4 - Aalaa Alshareef-COLLAGE.jpg"),f("winter-fundraiser.jpg")]}const S=document.getElementById("ayats-content");let I=0;function N(e){if(S){const t=F[e].en.replace(/[.]+(?=\s*\()/,"");S.innerHTML=`<div style="font-size:1rem;text-align:center;color:white;line-height:1.4;padding:15px;background:rgba(255,255,255,0.1);border-radius:8px;border-left:4px solid #2196F3;">${t}</div>`}}S&&(N(I),setInterval(()=>{I=(I+1)%F.length,N(I)},2e4));function W(){console.log("üïå Rendering prayer times..."),console.log("üîç DOM ready state:",document.readyState),console.log("üîç Current URL:",window.location.href);const e=document.getElementById("prayer-times-list");if(console.log("üîç Prayer list element search result:",e),!e){console.error("‚ùå Prayer times list element not found!"),console.error('üîç Available elements with "prayer" in class or id:'),document.querySelectorAll("*").forEach(n=>{(n.className&&n.className.includes("prayer")||n.id&&n.id.includes("prayer"))&&console.log("  - Found:",n.tagName,"class:",n.className,"id:",n.id)});return}console.log("‚úÖ Found prayer times list element:",e),console.log("üîç Prayer list current HTML:",e.innerHTML),console.log("üîç Prayer list parent element:",e.parentElement),e.innerHTML="",console.log("üîç Cleared prayer list HTML");const o="15044",t="US";console.log("üåê Fetching prayer times from API..."),fetch(`https://api.aladhan.com/v1/timingsByAddress?address=${o},${t}`).then(n=>(console.log("üì° API response status:",n.status,n.statusText),n.json())).then(n=>{console.log("‚úÖ Prayer times API response:",n);const a=n.data.timings,l=["Fajr","Dhuhr","Asr","Maghrib","Isha"];console.log("üìù Processing prayer times..."),l.forEach(s=>{let g=a[s];if(g){let[k,M]=g.split(":"),m=parseInt(k,10),h="AM";m===0?m=12:m===12?h="PM":m>12&&(m-=12,h="PM"),g=`${m}:${M} ${h}`}const r=document.createElement("li");r.textContent=`${s}: ${g}`,r.className="prayer-time-item",e.appendChild(r),console.log(`‚úÖ Added prayer time: ${s}: ${g}`),console.log(`üîç Prayer list now has ${e.children.length} children`)});const c=document.createElement("li");c.textContent="Jummah: 1:15 PM",c.className="prayer-time-item",e.appendChild(c),console.log("‚úÖ Added Jummah time"),console.log(`üîç Final prayer list has ${e.children.length} children`),console.log("üîç Final prayer list HTML:",e.innerHTML)}).catch(n=>{console.error("‚ùå Prayer times API failed, using fallback:",n);const a=[{name:"Fajr",time:"05:12 AM"},{name:"Dhuhr",time:"01:23 PM"},{name:"Asr",time:"05:07 PM"},{name:"Maghrib",time:"08:34 PM"},{name:"Isha",time:"10:02 PM"}];console.log("üîÑ Using fallback prayer times..."),a.forEach(c=>{const s=document.createElement("li");s.textContent=`${c.name}: ${c.time}`,s.className="prayer-time-item",e.appendChild(s),console.log(`‚úÖ Added fallback prayer time: ${c.name}: ${c.time}`)});const l=document.createElement("li");l.textContent="Jummah: 1:15 PM",l.className="prayer-time-item",e.appendChild(l),console.log("‚úÖ Added fallback Jummah time"),console.log(`üîç Final fallback prayer list has ${e.children.length} children`)})}function x(){console.log("üîç Rendering QR codes...");const e=document.querySelector(".qr-list");if(console.log("üìç QR list element:",e),e){const o=z();console.log("üñºÔ∏è QR image URLs:",o),o&&typeof o=="object"?(e.innerHTML="",Object.entries(o).forEach(([t,n],a)=>{console.log(`üì± Creating QR code ${a+1}:`,t,n);const l=document.createElement("div");l.className="qr-wrapper";const c=document.createElement("div");c.textContent=Q[t]||t.replace(/([A-Z])/g," $1").replace(/^./,r=>r.toUpperCase()),c.className="qr-label";const s=document.createElement("img");s.className="qr-img",s.alt=c.textContent,(r=>{const k=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",m=(u=>{switch(u){case"mapWebsite":return"mapitt.png";case"communityWhatsApp":return"map-whatsapp.png";default:return"mapitt.png"}})(r),h=k?[`./images/qr-codes/${m}`,`images/qr-codes/${m}`]:[`/chromecast_stream/images/qr-codes/${m}`,`./images/qr-codes/${m}`];h.unshift(n);let C=0;const T=()=>{if(C<h.length){const u=h[C];console.log(`üîÑ Trying QR image path ${C+1}/${h.length}:`,u),s.src=u,C++}else{console.error(`‚ùå All paths failed for QR image: ${r}`);const u=document.createElement("div");u.textContent=`QR Code: ${Q[t]||t}`,u.className="qr-fallback",l.appendChild(u)}};s.onerror=()=>{console.error("‚ùå Failed to load QR image from path:",s.src),T()},s.onload=()=>{console.log(`‚úÖ QR image loaded successfully: ${s.src}`),console.log("‚úÖ Image element:",s),console.log("‚úÖ Image dimensions:",s.naturalWidth,"x",s.naturalHeight)},T()})(t),console.log(`üì∏ Created image element for ${t}:`,s),console.log("üîó Image src set to:",n),l.appendChild(c),l.appendChild(s),e.appendChild(l)}),console.log("‚úÖ QR codes rendered successfully"),console.log("üîç Final QR list HTML:",e.innerHTML),console.log("üîç QR list children count:",e.children.length),console.log("üîç All image elements in QR list:",e.querySelectorAll("img")),e.children.length===0&&(console.warn("‚ö†Ô∏è No QR codes rendered, retrying in 1 second..."),setTimeout(()=>{console.log("üîÑ Retrying QR code rendering..."),x()},1e3))):console.error("‚ùå QR image URLs not available or invalid")}else console.error("‚ùå QR list element not found")}console.log("üöÄ Initializing Chromecast Receiver Demo...");document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("debugBtn");e&&e.addEventListener("click",()=>{console.log("üîç DEBUG BUTTON CLICKED"),document.body.style.border="10px solid yellow";const o=document.documentElement,t=getComputedStyle(o);console.log("üé® Current CSS Variables:"),console.log("  - headerHeight:",t.getPropertyValue("--header-height")),console.log("  - contentHeight:",t.getPropertyValue("--content-height")),console.log("  - ayatsHeight:",t.getPropertyValue("--ayats-height")),console.log("  - gap:",t.getPropertyValue("--gap")),console.log("  - padding:",t.getPropertyValue("--padding"));const n=document.querySelector(".prayer-times"),a=document.querySelector(".qr-codes");if(document.querySelector(".slideshow"),n){const r=window.getComputedStyle(n);console.log("üìè Prayer Times Computed Styles:"),console.log("  - height:",r.height),console.log("  - maxHeight:",r.maxHeight),console.log("  - overflow:",r.overflow),console.log("  - padding:",r.padding),console.log("  - margin:",r.margin),console.log("  - display:",r.display),console.log("  - position:",r.position)}if(a){const r=window.getComputedStyle(a);console.log("üìè QR Codes Computed Styles:"),console.log("  - height:",r.height),console.log("  - maxHeight:",r.maxHeight),console.log("  - overflow:",r.overflow),console.log("  - padding:",r.padding),console.log("  - margin:",r.margin),console.log("  - display:",r.display),console.log("  - position:",r.position)}const l=window.matchMedia("(min-width: 1920px)"),c=window.matchMedia("(min-width: 960px) and (max-width: 1200px)");console.log("üì∫ Media Query (min-width: 1920px):",l.matches),console.log("üì∫ Media Query (960px-1200px):",c.matches),console.log("üì± Viewport:"),console.log("  - width:",window.innerWidth),console.log("  - height:",window.innerHeight),console.log("üíæ Cache Status:");const s=Z();s?(console.log("  - GitHub Cache Age:",s.age+" minutes"),console.log("  - GitHub Cache Expires In:",s.expiresIn+" minutes"),console.log("  - GitHub Cache Image Count:",s.imageCount)):console.log("  - GitHub Cache: None");const g=_();g?console.log("  - Local Cache: Available with",g.length,"images"):console.log("  - Local Cache: None"),console.log("  - Available Images:",i.length),console.log("  - Current Image Index:",d)})});console.log("üì± Screen Dimensions:",{width:window.innerWidth,height:window.innerHeight,screenWidth:screen.width,screenHeight:screen.height,devicePixelRatio:window.devicePixelRatio});setTimeout(()=>{const e=document.documentElement,o=getComputedStyle(e);console.log("üé® CSS Variables Applied:",{headerHeight:o.getPropertyValue("--header-height"),contentHeight:o.getPropertyValue("--content-height"),ayatsHeight:o.getPropertyValue("--ayats-height"),gap:o.getPropertyValue("--gap"),padding:o.getPropertyValue("--padding")});const t=document.querySelector(".prayer-times"),n=document.querySelector(".qr-codes");if(document.querySelector(".slideshow"),t){const a=t.getBoundingClientRect();console.log("üìè Prayer Times Element:",{width:a.width,height:a.height,top:a.top,left:a.left})}if(n){const a=n.getBoundingClientRect();console.log("üìè QR Codes Element:",{width:a.width,height:a.height,top:a.top,left:a.left})}},1e3);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("üìÑ DOM fully loaded, setting background image..."),R(),setTimeout(()=>{W(),x()},100)}):(console.log("üìÑ DOM already loaded, setting background image..."),R(),setTimeout(()=>{W(),x()},100));ae();ee();function V(){const e=new Date,o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),t=o-e;console.log("üïõ Scheduling daily reload at midnight"),console.log("‚è∞ Current time:",e.toLocaleTimeString()),console.log("üåÖ Next reload at:",o.toLocaleString()),console.log("‚è≥ Time until reload:",Math.round(t/1e3/60),"minutes"),setTimeout(()=>{console.log("üîÑ Executing scheduled daily reload..."),window.location.reload()},t),setTimeout(()=>{V()},t)}V();console.log("üîß Cache Management Commands Available:");console.log("  - getCacheInfo() - Check cache status");console.log("  - clearImageCache() - Clear image cache");console.log("  - forceRefreshImages() - Force refresh from GitHub");console.log("  - CACHE_DURATION:",Math.round(L/1e3/60),"minutes");console.log("‚úÖ Initialization complete!");
